<!DOCTYPE html> <html> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"> <title>JDBC Quick Reference</title> <script type="text/javascript" src="./js/jquery-1.10.2.min.js"></script> <script type="text/javascript" src="./js/jquery.mobile-1.4.0-rc.1.min.js"></script> <script type="text/javascript" src="./js/keys.js"></script> <link rel="stylesheet" href="./css/jquery.mobile.inline-svg-1.4.0-rc.1.min.css"/> <style>.codescroll{overflow-x:scroll;overflow-y:hidden}</style> </head> <body> <div data-role="popup" id="menu" class="ui-content" data-theme="b"> <div data-role="content" data-theme="b"> <h2>JDBC Quick Reference</h2> <a href="#about" data-role="button" data-iconpos="left" data-icon="info" data-transition="flip">About</a> <a href="#" data-role="button" data-iconpos="left" data-icon="power" onclick="exitApp()">Exit</a> </div> </div> <div data-role="page" id="mainpage" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <div data-role="collapsible" data-inset="false" data-collapsed="false"> <ul data-role="listview"> <li><a data-transition="flow" href="#overview">Overview</a></li> <li><a data-transition="flow" href="#setup">Environment Setup</a></li> </ul> </div> <div data-role="collapsible" data-inset="false" data-collapsed="true" data-collapsed-icon="carat-r" data-expanded-icon="carat-u" data-iconpos="right" data-theme="b" data-content-theme="b"> <h3>Creating JDBC Application</h3> <ul data-role="listview" data-theme="a"> <li><a data-transition="flow" href="#import">Import the packages</a></li> <li><a data-transition="flow" href="#register">Register the JDBC driver</a></li> <li><a data-transition="flow" href="#connection">Open a connection</a></li> <li><a data-transition="flow" href="#execute">Execute a query</a></li> <li><a data-transition="flow" href="#result">Extract data from result set</a></li> <li><a data-transition="flow" href="#close">Clean up the environment</a></li> </ul> </div> <div data-role="collapsible" data-inset="false" data-collapsed="false"> <ul data-role="listview"> <li><a data-transition="flow" href="#prog">First JDBC Program</a></li> <li><a data-transition="flow" href="#methods">SQLException Methods</a></li> <li><a data-transition="flow" href="#datatypes">Data Types</a></li> <li><a data-transition="flow" href="#batch">Batch Processing</a></li> <li><a data-transition="flow" href="#streaming">Streaming Data</a></li> </ul> </div> </div> </div> <div data-role="page" id="overview" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Overview</h2> <p>The Java Database Connectivity (JDBC) API is the industry standard for database-independent connectivity between the Java programming language and a wide range of databases.</p> <p>SQL databases and other tabular data sources, such as spreadsheets or flat files. The JDBC API provides a call-level API for SQL-based database access.</p> <h3>JDBC API Overview</h3> <p>The JDBC API makes it possible to do three things:</p> <ul><li>Establish a connection with a database or access any tabular data source</li> <li>Send SQL statements</li> <li>Process the results</li></ul> <h3>Requirements :</h3> <ul> <li><p>Software: The Java 2 Platform (either the Java 2 SDK, Standard Edition, or the Java 2 SDK, Enterprise Edition), an SQL database, and a JDBC technology-based driver for that database.</p></li> <li><p>Hardware: Same as for the Java 2 Platform</p></li> </ul> </div> </div> <div data-role="page" id="setup" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>JDBC - Environment Setup:</h2> <p>Make sure you have done following setup:</p> <ul class="list"> <li><p>Core JAVA Installation</p></li> <li><p>SQL or MySQL Database Installation</p></li> </ul> <p>Apart from the above you need to setup a database which you would use for your project. Assuming this is EMP and you have created on table Employees within the same database.</p> </div> </div> <div data-role="page" id="import" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Import the packages:</h2> <p>This requires that you include the packages containing the JDBC classes needed for database programming. Most often, using import java.sql.* will suffice as follows:</p> <div class="codescroll"><img src="code/1.png"></div> </div> </div> <div data-role="page" id="register" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Register the JDBC driver:</h2> <p>This requires that you initialize a driver so you can open a communications channel with the database. Following is the code snippet to achieve this:</p> <div class="codescroll"><img src="code/2.png"></div> </div> </div> <div data-role="page" id="connection" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Open a connection:</h2> <p>This requires using the DriverManager.getConnection() method to create a Connection object, which represents a physical connection with the database as follows:</p> <div class="codescroll"><img src="code/3.png"></div> </div> </div> <div data-role="page" id="execute" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Execute a query:</h2> <p>This requires using an object of type Statement or PreparedStatement for building and submitting an SQL statement to the database as follows:</p> <div class="codescroll"><img src="code/4a.png"></div> <p>If there is an SQL UPDATE,INSERT or DELETE statement required, then following code snippet would be required:</p> <div class="codescroll"><img src="code/4b.png"></div> </div> </div> <div data-role="page" id="result" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Extract data from result set:</h2> <p>This step is required in case you are fetching data from the database. You can use the appropriate ResultSet.getXXX() method to retrieve the data from the result set as follows:</p> <div class="codescroll"><img src="code/5.png"></div> </div> </div> <div data-role="page" id="close" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>Clean up the environment:</h2> <p>You should explicitly close all database resources versus relying on the JVM's garbage collection as follows:</p> <div class="codescroll"><img src="code/6.png"></div> </div> </div> <div data-role="page" id="prog" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>First JDBC Program:</h2> <p>Based on the above steps, we can have following consolidated sample code which we can use as a template while writing our JDBC code:</p> <p>This sample code has been written based on the environment and database setup done in Environment chapter.</p> <div class="codescroll"><img src="code/11.png"></div> </div> </div> <div data-role="page" id="methods" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>SQLException Methods:</h2> <p>A SQLException can occur both in the driver and the database. When such an exception occurs, an object of type SQLException will be passed to the catch clause.</p> <p>The passed SQLException object has the following methods available for retrieving additional information about the exception:</p> <table data-role="table" id="table1" data-mode="columntoggle"><thead> <tr> <th>Method</th><th data-priority="1">Description</th> </tr></thead> <tbody><tr><td>getErrorCode( )</td><td>Gets the error number associated with the exception.</td></tr> <tr><td>getMessage( )</td><td>Gets the JDBC driver's error message for an error handled by the driver or gets the Oracle error number and message for a database error.</td></tr> <tr><td>getSQLState( )</td><td>Gets the XOPEN SQLstate string. For a JDBC driver error, no useful information is returned from this method. For a database error, the five-digit XOPEN SQLstate code is returned. This method can return null.</td></tr> <tr><td>getNextException( )</td><td>Gets the next Exception object in the exception chain.</td></tr> <tr><td>printStackTrace( )</td><td>Prints the current exception, or throwable, and its backtrace to a standard error stream.</td></tr> <tr><td>printStackTrace (PrintStream s)</td><td>Prints this throwable and its backtrace to the print stream you specify.</td></tr> <tr><td>printStackTrace (PrintWriter w)</td><td>Prints this throwable and its backtrace to the print writer you specify.</td></tr> </tbody></table></div> <p>By utilizing the information available from the Exception object, you can catch an exception and continue your program appropriately. Here is the general form of a try block:</p> <pre class="codescroll">
try {
   // Your risky code goes between these curly braces!!!
}
catch(Exception ex) {
   // Your exception handling code goes between these 
   // curly braces, similar to the exception clause 
   // in a PL/SQL block.
}
finally {
   // Your must-always-be-executed code goes between these 
   // curly braces. Like closing database connection.
}
</pre> </div> </div> <div data-role="page" id="datatypes" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>JDBC - Data Types:</h2> <p>The following table summarizes the default JDBC data type that the Java data type is converted to when you call the setXXX() method of the PreparedStatement or CallableStatement object or the ResultSet.updateXXX() method.</p> <pre class="codescroll"><table data-role="table" id="table2" data-mode="columntoggle"> <thead> <tr> <th>SQL</th><th data-priority="1">JDBC/Java</th><th data-priority="2">setXXX</th><th data-priority="3">updateXXX</th> </tr> </thead> <tbody> <tr><td>VARCHAR</td><td>java.lang.String</td><td>setString</td><td>updateString</td></tr> <tr><td>CHAR</td><td>java.lang.String</td><td>setString</td><td>updateString</td></tr> <tr><td>LONGVARCHAR</td><td>java.lang.String</td><td>setString</td><td>updateString</td></tr> <tr><td>BIT</td><td>boolean</td><td>setBoolean</td><td>updateBoolean</td></tr> <tr><td>NUMERIC</td><td>java.math.BigDecimal</td><td>setBigDecimal</td><td>updateBigDecimal</td></tr> <tr><td>TINYINT</td><td>byte</td><td>setByte</td><td>updateByte</td></tr> <tr><td>SMALLINT</td><td>short</td><td>setShort</td><td>updateShort</td></tr> <tr><td>INTEGER</td><td>int</td><td>setInt</td><td>updateInt</td></tr> <tr><td>BIGINT</td><td>long</td><td>setLong</td><td>updateLong</td></tr> <tr><td>REAL</td><td>float</td><td>setFloat</td><td>updateFloat</td></tr> <tr><td>FLOAT</td><td>float</td><td>setFloat</td><td>updateFloat</td></tr> <tr><td>DOUBLE</td><td>double</td><td>setDouble</td><td>updateDouble</td></tr> <tr><td>VARBINARY</td><td>byte[ ]</td><td>setBytes</td><td>updateBytes</td></tr> <tr><td>BINARY</td><td>byte[ ]</td><td>setBytes</td><td>updateBytes</td></tr> <tr><td>DATE</td><td>java.sql.Date</td><td>setDate</td><td>updateDate</td></tr> <tr><td>TIME</td><td>java.sql.Time</td><td>setTime</td><td>updateTime</td></tr> <tr><td>TIMESTAMP</td><td>java.sql.Timestamp</td><td>setTimestamp</td><td>updateTimestamp</td></tr> <tr><td>CLOB</td><td>java.sql.Clob</td><td>setClob</td><td>updateClob</td></tr> <tr><td>BLOB</td><td>java.sql.Blob</td><td>setBlob</td><td>updateBlob</td></tr> <tr><td>ARRAY</td><td>java.sql.Array</td><td>setARRAY</td><td>updateARRAY</td></tr> <tr><td>REF</td><td>java.sql.Ref</td><td>SetRef</td><td>updateRef</td></tr> <tr><td>STRUCT</td><td>java.sql.Struct</td><td>SetStruct</td><td>updateStruct</td></tr> </tbody> </table></div> <p>JDBC 3.0 has enhanced support for BLOB, CLOB, ARRAY, and REF data types. The ResultSet object now has updateBLOB(), updateCLOB(), updateArray(), and updateRef() methods that enable you to directly manipulate the respective data on the server.</p> <p>The setXXX() and updateXXX() methods enable you to convert specific Java types to specific JDBC data types. The methods, setObject() and updateObject(), enable you to map almost any Java type to a JDBC data type.</p> <p>ResultSet object provides corresponding getXXX() method for each data type to retrieve column value. Each method can be used with column name or by its ordinal position.</p> <div class="codescroll"><table data-role="table" id="table3" data-mode="columntoggle"> <thead> <tr> <th>SQL</th><th data-priority="1">JDBC/Java</th><th data-priority="2">setXXX</th><th data-priority="3">getXXX</th> </tr> </thead> <tbody> <tr><td>VARCHAR</td><td>java.lang.String</td><td>setString</td><td>getString</td></tr> <tr><td>CHAR</td><td>java.lang.String</td><td>setString</td><td>getString</td></tr> <tr><td>LONGVARCHAR</td><td>java.lang.String</td><td>setString</td><td>getString</td></tr> <tr><td>BIT</td><td>boolean</td><td>setBoolean</td><td>getBoolean</td></tr> <tr><td>NUMERIC</td><td>java.math.BigDecimal</td><td>setBigDecimal</td><td>getBigDecimal</td></tr> <tr><td>TINYINT</td><td>byte</td><td>setByte</td><td>getByte</td></tr> <tr><td>SMALLINT</td><td>short</td><td>setShort</td><td>getShort</td></tr> <tr><td>INTEGER</td><td>int</td><td>setInt</td><td>getInt</td></tr> <tr><td>BIGINT</td><td>long</td><td>setLong</td><td>getLong</td></tr> <tr><td>REAL</td><td>float</td><td>setFloat</td><td>getFloat</td></tr> <tr><td>FLOAT</td><td>float</td><td>setFloat</td><td>getFloat</td></tr> <tr><td>DOUBLE</td><td>double</td><td>setDouble</td><td>getDouble</td></tr> <tr><td>VARBINARY</td><td>byte[ ]</td><td>setBytes</td><td>getBytes</td></tr> <tr><td>BINARY</td><td>byte[ ]</td><td>setBytes</td><td>getBytes</td></tr> <tr><td>DATE</td><td>java.sql.Date</td><td>setDate</td><td>getDate</td></tr> <tr><td>TIME</td><td>java.sql.Time</td><td>setTime</td><td>getTime</td></tr> <tr><td>TIMESTAMP</td><td>java.sql.Timestamp</td><td>setTimestamp</td><td>getTimestamp</td></tr> <tr><td>CLOB</td><td>java.sql.Clob</td><td>setClob</td><td>getClob</td></tr> <tr><td>BLOB</td><td>java.sql.Blob</td><td>setBlob</td><td>getBlob</td></tr> <tr><td>ARRAY</td><td>java.sql.Array</td><td>setARRAY</td><td>getARRAY</td></tr> <tr><td>REF</td><td>java.sql.Ref</td><td>SetRef</td><td>getRef</td></tr> <tr><td>STRUCT</td><td>java.sql.Struct</td><td>SetStruct</td><td>getStruct</td></tr> </tbody> </table> </div> </div> <div data-role="page" id="batch" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>JDBC - Batch Processing:</h2> <p>Batch Processing allows you to group related SQL statements into a batch and submit them with one call to the database.</p> <p>When you send several SQL statements to the database at once, you reduce the amount of communication overhead, thereby improving performance.</p> <ul class="list"> <li><p>JDBC drivers are not required to support this feature. You should use the <i>DatabaseMetaData.supportsBatchUpdates()</i> method to determine if the target database supports batch update processing. The method returns true if your JDBC driver supports this feature.</p></li> <li><p>The <b>addBatch()</b> method of <i>Statement, PreparedStatement,</i> and <i>CallableStatement</i> is used to add individual statements to the batch. The <b>executeBatch()</b> is used to start the execution of all the statements grouped together.</p></li> <li><p>The <b>executeBatch()</b> returns an array of integers, and each element of the array represents the update count for the respective update statement.</p></li> <li><p>Just as you can add statements to a batch for processing, you can remove them with the <b>clearBatch()</b> method. This method removes all the statements you added with the addBatch() method. However, you cannot selectively choose which statement to remove.</p></li> </ul> </div> </div> <div data-role="page" id="streaming" data-theme="b"> <div data-role="header" data-position="fixed"> <h1>JDBC Quick Reference</h1> </div> <div data-role="content"> <h2>JDBC - Streaming Data:</h2> <p>A PreparedStatement object has the ability to use input and output streams to supply parameter data. This enables you to place entire files into database columns that can hold large values, such as CLOB and BLOB data types.</p> <p>There are following methods which can be used to stream data:</p> <ul class="list"> <li><p><b>setAsciiStream():</b> This method is used to supply large ASCII values.</p></li> <li><p><b>setCharacterStream():</b> This method is used to supply large UNICODE values.</p></li> <li><p><b>setBinaryStream():</b> This method is used to supply large binary values.</p></li> </ul> <p>The setXXXStream() method requires an extra parameter, the file size, besides the parameter placeholder. This parameter informs the driver how much data should be sent to the database using the stream.</p> </div> </div> <div data-role="page" id="about" data-transition="flip" style="background-color:#ffd700;"> <div data-role="content" style="background-color:#ffd700;" align="center"> <h2>About</h2> <img src="icon.png" style="width:150px;"/> <h4>JDBC Quick Reference 1.2.0</h4> <p>by</p> <h3 style="">iStack Software</h3> <div style="color:red;">www.istacksoftware.com</div> </div> </div> </body> </html>